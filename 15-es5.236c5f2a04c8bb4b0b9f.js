!function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"99Un":function(n,i,o){"use strict";o.r(i),o.d(i,"HomePageModule",(function(){return A}));var r,c=o("ofXK"),a=o("3Pt+"),s=o("TEn/"),u=o("tyNb"),l=o("mrSG"),b=o("epYj"),d=o("Y+K0"),g=o("fXoL"),f=o("74gq"),p=((r=function e(n){t(this,e),this.todoService=n}).\u0275fac=function(e){return new(e||r)(g.Ib(f.a))},r.\u0275cmp=g.Cb({type:r,selectors:[["app-popover-priority"]],inputs:{toto:"toto"},decls:18,vars:0,consts:[["button","",3,"click"],["src","../../../assets/prio/highest-prio.svg","alt","highest"],["src","../../../assets/prio/high-prio.svg","alt","high"],["src","../../../assets/prio/medium.svg","alt","medium"],["src","../../../assets/prio/low-prio.svg","alt","low"],["src","../../../assets/prio/lowest-prio.svg","alt","lowest"]],template:function(e,t){1&e&&(g.Nb(0,"ion-list"),g.Nb(1,"ion-list-header"),g.ic(2,"Priorisieren"),g.Mb(),g.Nb(3,"ion-item",0),g.Vb("click",(function(){return t.todoService.setPriority(t.toto,0)})),g.Jb(4,"img",1),g.ic(5,"highest "),g.Mb(),g.Nb(6,"ion-item",0),g.Vb("click",(function(){return t.todoService.setPriority(t.toto,1)})),g.Jb(7,"img",2),g.ic(8,"high "),g.Mb(),g.Nb(9,"ion-item",0),g.Vb("click",(function(){return t.todoService.setPriority(t.toto,2)})),g.Jb(10,"img",3),g.ic(11,"medium "),g.Mb(),g.Nb(12,"ion-item",0),g.Vb("click",(function(){return t.todoService.setPriority(t.toto,3)})),g.Jb(13,"img",4),g.ic(14,"low "),g.Mb(),g.Nb(15,"ion-item",0),g.Vb("click",(function(){return t.todoService.setPriority(t.toto,4)})),g.Jb(16,"img",5),g.ic(17,"lowest "),g.Mb(),g.Mb())},directives:[s.s,s.t,s.n],styles:["img[_ngcontent-%COMP%]{height:15px;width:15px;margin-right:.5rem}"]}),r),v=o("mra/"),h=o("ZETX");function m(e,t){if(1&e){var n=g.Ob();g.Nb(0,"ion-button",15),g.Vb("click",(function(){return g.dc(n),g.Xb().logout()})),g.ic(1,"Logout"),g.Mb()}}function y(e,t){if(1&e){var n=g.Ob();g.Nb(0,"ion-button",16),g.Vb("click",(function(e){return g.dc(n),g.Xb().authService.presentPopoverLogin(e)})),g.ic(1,"Login "),g.Mb()}}function k(e,t){if(1&e){var n=g.Ob();g.Nb(0,"ion-icon",17),g.Vb("click",(function(){return g.dc(n),g.Xb().clear()})),g.Mb()}}function M(e,t){if(1&e&&(g.Nb(0,"ion-select-option",8),g.ic(1),g.Mb()),2&e){var n=t.$implicit;g.ac("value",n.name),g.yb(1),g.jc(n.name)}}function w(e,t){1&e&&(g.Nb(0,"ion-list-header"),g.ic(1," ToDos "),g.Mb())}function N(e,t){if(1&e&&(g.Nb(0,"ion-list-header"),g.ic(1),g.Mb()),2&e){var n=g.Xb();g.yb(1),g.kc(" ToDos von ",n.authService.user.nutzername," ")}}function S(e,t){if(1&e){var n=g.Ob();g.Nb(0,"ion-badge",31),g.Vb("click",(function(e){g.dc(n);var t=g.Xb().$implicit;return g.Xb(2).presentPopoverCategory(e,t)})),g.ic(1),g.Mb()}if(2&e){var i=g.Xb().$implicit;g.yb(1),g.jc(i.kategorie.name)}}function C(e,t){if(1&e){var n=g.Ob();g.Nb(0,"ion-item-option",32),g.Vb("click",(function(){g.dc(n);var e=g.Xb().$implicit;return g.Xb(2).todoService.done(e)})),g.Jb(1,"ion-icon",33),g.Mb()}}function I(e,t){if(1&e){var n=g.Ob();g.Nb(0,"ion-item-option",12),g.Vb("click",(function(){g.dc(n);var e=g.Xb().$implicit;return g.Xb(2).todoService.notDone(e)})),g.Jb(1,"ion-icon",34),g.Mb()}}function x(e,t){if(1&e){var n=g.Ob();g.Nb(0,"ion-item-sliding"),g.Nb(1,"ion-item",19),g.Nb(2,"ion-label"),g.Nb(3,"h2"),g.ic(4),g.Mb(),g.Nb(5,"p"),g.ic(6),g.Mb(),g.Mb(),g.gc(7,S,2,1,"ion-badge",20),g.Nb(8,"ion-note",21),g.ic(9),g.Mb(),g.Nb(10,"ion-badge",22),g.Vb("click",(function(e){g.dc(n);var i=t.$implicit;return g.Xb(2).presentPopoverPriority(e,i)})),g.Jb(11,"img",23),g.Mb(),g.Mb(),g.Nb(12,"ion-item-options",24),g.gc(13,C,2,0,"ion-item-option",25),g.gc(14,I,2,0,"ion-item-option",26),g.Mb(),g.Nb(15,"ion-item-options",27),g.Nb(16,"ion-item-option",12),g.Vb("click",(function(){g.dc(n);var e=t.$implicit;return g.Xb(2).editModal(e)})),g.Jb(17,"ion-icon",28),g.Mb(),g.Nb(18,"ion-item-option",29),g.Vb("click",(function(){g.dc(n);var e=t.$implicit;return g.Xb(2).todoService.delete(e)})),g.Jb(19,"ion-icon",30),g.Mb(),g.Mb(),g.Mb()}if(2&e){var i=t.$implicit,o=g.Xb(2);g.yb(1),g.ac("disabled",i.erledigt),g.yb(2),g.Ab("done",i.erledigt),g.yb(1),g.jc(i.titel),g.yb(2),g.jc(i.beschreibung),g.yb(1),g.ac("ngIf",""!=i.kategorie.name),g.yb(2),g.kc(" ",i.zeit," Uhr "),g.yb(2),g.ac("src",o.priority[i.prioritaet],g.ec),g.yb(2),g.ac("ngIf",!i.erledigt),g.yb(1),g.ac("ngIf",i.erledigt)}}function O(e,t){if(1&e&&(g.Nb(0,"div"),g.gc(1,x,20,10,"ion-item-sliding",18),g.Mb()),2&e){var n=g.Xb();g.yb(1),g.ac("ngForOf",n.todoService.filteredAufgabenArray)}}function P(e,t){if(1&e){var n=g.Ob();g.Nb(0,"ion-item-sliding"),g.Nb(1,"ion-item"),g.Nb(2,"p"),g.ic(3,"Hier klicken, um ToDo hinzuzuf\xfcgen."),g.Mb(),g.Nb(4,"ion-button",16),g.Vb("click",(function(){return g.dc(n),g.Xb().addModal()})),g.Jb(5,"ion-icon",13),g.Mb(),g.Mb(),g.Mb()}}var X,V,L,J=[{path:"",component:(X=function(){function n(e,i,o,r,c){var a=this;t(this,n),this.modalCtrl=e,this.loadingController=i,this.popoverController=o,this.todoService=r,this.authService=c,this.loading=this.loadingController.create({message:"Bitte warten...",duration:1500}),this.priority=["../../../assets/prio/highest-prio.svg","../../../assets/prio/high-prio.svg","../../../assets/prio/medium.svg","../../../assets/prio/low-prio.svg","../../../assets/prio/lowest-prio.svg"],localStorage.getItem("userID")?c.findById(localStorage.getItem("userID")).subscribe((function(e){c.user=e,a.authService.isLoggedIn=!0,a.todoService.refreshTodos(),a.todoService.refreshCategories()})):(this.authService.isLoggedIn=!1,this.todoService.refreshCategories())}var i,o,r;return i=n,(o=[{key:"addModal",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalCtrl.create({component:b.a,cssClass:"modal",swipeToClose:!0,componentProps:{todo:new d.a,autor:this.authService.user}});case 2:return t=e.sent,e.next=5,t.present();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})))}},{key:"editModal",value:function(e){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalCtrl.create({component:b.a,cssClass:"modal",swipeToClose:!0,componentProps:{edit:!0,todo:e}});case 2:return n=t.sent,t.next=5,n.present();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"logout",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loading;case 2:return e.next=4,e.sent.present();case 4:return e.next=6,this.authService.logOut();case 6:return setTimeout((function(){t.todoService.refreshTodos()}),1e3),e.next=9,this.loading;case 9:return e.next=11,e.sent.onDidDismiss();case 11:case"end":return e.stop()}}),e,this)})))}},{key:"doSearch",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.search.getInputElement();case 2:t=e.sent.value,this.todoService.filteredAufgabenArray=this.todoService.todos.filter((function(e){return e.titel.toLowerCase().includes(t.toLowerCase())||e.beschreibung.toLowerCase().includes(t.toLowerCase())||e.kategorie.name.toLowerCase().includes(t.toLowerCase())}));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"filterByCat",value:function(e){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.todoService.filteredAufgabenArray="no filter"===e?this.todoService.todos:this.todoService.todos.filter((function(t){return t.kategorie.name===e}));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"presentPopoverPriority",value:function(e,t){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.popoverController.create({component:p,event:e,translucent:!0,componentProps:{toto:t}});case 2:return i=n.sent,n.next=5,i.present();case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}),n,this)})))}},{key:"presentPopoverCategory",value:function(e,t){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.popoverController.create({component:v.a,event:e,translucent:!0,componentProps:{task:t}});case 2:return i=n.sent,n.next=5,i.present();case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}),n,this)})))}},{key:"clear",value:function(){this.search.value="",this.todoService.filteredAufgabenArray=this.todoService.todos}},{key:"ionViewDidEnter",value:function(){this.search.value=""}}])&&e(i.prototype,o),r&&e(i,r),n}(),X.\u0275fac=function(e){return new(e||X)(g.Ib(s.H),g.Ib(s.G),g.Ib(s.J),g.Ib(f.a),g.Ib(h.a))},X.\u0275cmp=g.Cb({type:X,selectors:[["app-home"]],viewQuery:function(e,t){var n;1&e&&g.lc(s.m,!0),2&e&&g.bc(n=g.Wb())&&(t.search=n.first)},decls:29,vars:9,consts:[["slot","start"],["slot","end","color","warning",3,"click",4,"ngIf"],["slot","end",3,"click",4,"ngIf"],["clearOnEdit","false","color","warning","inputmode","text","placeholder","ToDo suchen...","required","true",3,"ionInput"],["name","close-outline","color","warning","slot","end",3,"click",4,"ngIf"],["name","search-outline","color","warning","slot","end"],["interface","popover","cancelText","Dismiss","placeholder","Filter w\xe4hlen...",3,"ngModel","ngModelChange","ionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["vertical","bottom","horizontal","end","slot","fixed"],["color","warning",3,"click"],["name","add-outline"],["empty",""],["slot","end","color","warning",3,"click"],["slot","end",3,"click"],["name","close-outline","color","warning","slot","end",3,"click"],[4,"ngFor","ngForOf"],[3,"disabled"],[3,"click",4,"ngIf"],["slot","end"],["slot","start","color","none",3,"click"],["alt","prio icon",3,"src"],["side","start"],["color","success",3,"click",4,"ngIf"],["color","warning",3,"click",4,"ngIf"],["side","end"],["slot","icon-only","name","create-outline"],["color","danger",3,"click"],["slot","icon-only","name","trash"],[3,"click"],["color","success",3,"click"],["slot","icon-only","name","checkmark-circle-outline"],["slot","icon-only","name","close-circle-outline"]],template:function(e,t){if(1&e&&(g.Nb(0,"ion-header"),g.Nb(1,"ion-toolbar"),g.Nb(2,"ion-buttons",0),g.Jb(3,"ion-back-button"),g.Mb(),g.Nb(4,"ion-title"),g.ic(5,"Aufgaben Manager KMS"),g.Mb(),g.gc(6,m,2,0,"ion-button",1),g.gc(7,y,2,0,"ion-button",2),g.Mb(),g.Mb(),g.Nb(8,"ion-content"),g.Nb(9,"ion-item"),g.Nb(10,"ion-input",3),g.Vb("ionInput",(function(){return t.doSearch()})),g.Mb(),g.gc(11,k,1,0,"ion-icon",4),g.Jb(12,"ion-icon",5),g.Mb(),g.Nb(13,"ion-item"),g.Nb(14,"ion-label"),g.ic(15,"Liste nach Kategorie filtern"),g.Mb(),g.Nb(16,"ion-select",6),g.Vb("ngModelChange",(function(e){return t.todoService.filterCat=e}))("ionChange",(function(){return t.filterByCat(t.todoService.filterCat)})),g.gc(17,M,2,2,"ion-select-option",7),g.Nb(18,"ion-select-option",8),g.ic(19,"kein Filter"),g.Mb(),g.Mb(),g.Mb(),g.Nb(20,"ion-list"),g.gc(21,w,2,0,"ion-list-header",9),g.gc(22,N,2,1,"ion-list-header",9),g.gc(23,O,2,1,"div",10),g.Mb(),g.Nb(24,"ion-fab",11),g.Nb(25,"ion-fab-button",12),g.Vb("click",(function(){return t.addModal()})),g.Jb(26,"ion-icon",13),g.Mb(),g.Mb(),g.Mb(),g.gc(27,P,6,0,"ng-template",null,14,g.hc)),2&e){var n=g.cc(28);g.yb(6),g.ac("ngIf",t.authService.isLoggedIn),g.yb(1),g.ac("ngIf",!t.authService.isLoggedIn),g.yb(4),g.ac("ngIf",t.todoService.filteredAufgabenArray.length<t.todoService.todos.length),g.yb(5),g.ac("ngModel",t.todoService.filterCat),g.yb(1),g.ac("ngForOf",t.todoService.categories),g.yb(4),g.ac("ngIf",!t.authService.isLoggedIn),g.yb(1),g.ac("ngIf",t.authService.isLoggedIn),g.yb(1),g.ac("ngIf",t.todoService.filteredAufgabenArray.length>0)("ngIfElse",n)}},directives:[s.k,s.D,s.g,s.c,s.d,s.C,c.i,s.h,s.n,s.m,s.M,s.l,s.r,s.z,s.L,a.d,a.e,c.h,s.A,s.s,s.i,s.j,s.f,s.t,s.q,s.u,s.e,s.p,s.o],styles:[".modal[_ngcontent-%COMP%]   .modal-wrapper[_ngcontent-%COMP%]{background:#222}ion-list-header[_ngcontent-%COMP%]{background-color:#ff0;color:#000}.done[_ngcontent-%COMP%]{text-decoration:line-through}img[_ngcontent-%COMP%]{height:15px;width:15px}"]}),X)}],j=((L=function e(){t(this,e)}).\u0275mod=g.Gb({type:L}),L.\u0275inj=g.Fb({factory:function(e){return new(e||L)},imports:[[u.i.forChild(J)],u.i]}),L),A=((V=function e(){t(this,e)}).\u0275mod=g.Gb({type:V}),V.\u0275inj=g.Fb({factory:function(e){return new(e||V)},imports:[[c.b,a.a,s.E,j]]}),V)}}])}();