(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"99Un":function(o,e,i){"use strict";i.r(e),i.d(e,"HomePageModule",(function(){return X}));var t=i("ofXK"),n=i("3Pt+"),c=i("TEn/"),r=i("tyNb"),s=i("mrSG"),l=i("epYj"),a=i("Y+K0"),b=i("fXoL"),d=i("74gq");let u=(()=>{class o{constructor(o){this.todoService=o}}return o.\u0275fac=function(e){return new(e||o)(b.Ib(d.a))},o.\u0275cmp=b.Cb({type:o,selectors:[["app-popover-priority"]],inputs:{toto:"toto"},decls:18,vars:0,consts:[["button","",3,"click"],["src","../../../assets/prio/highest-prio.svg","alt","highest"],["src","../../../assets/prio/high-prio.svg","alt","high"],["src","../../../assets/prio/medium.svg","alt","medium"],["src","../../../assets/prio/low-prio.svg","alt","low"],["src","../../../assets/prio/lowest-prio.svg","alt","lowest"]],template:function(o,e){1&o&&(b.Nb(0,"ion-list"),b.Nb(1,"ion-list-header"),b.ic(2,"Priorisieren"),b.Mb(),b.Nb(3,"ion-item",0),b.Vb("click",(function(){return e.todoService.setPriority(e.toto,0)})),b.Jb(4,"img",1),b.ic(5,"highest "),b.Mb(),b.Nb(6,"ion-item",0),b.Vb("click",(function(){return e.todoService.setPriority(e.toto,1)})),b.Jb(7,"img",2),b.ic(8,"high "),b.Mb(),b.Nb(9,"ion-item",0),b.Vb("click",(function(){return e.todoService.setPriority(e.toto,2)})),b.Jb(10,"img",3),b.ic(11,"medium "),b.Mb(),b.Nb(12,"ion-item",0),b.Vb("click",(function(){return e.todoService.setPriority(e.toto,3)})),b.Jb(13,"img",4),b.ic(14,"low "),b.Mb(),b.Nb(15,"ion-item",0),b.Vb("click",(function(){return e.todoService.setPriority(e.toto,4)})),b.Jb(16,"img",5),b.ic(17,"lowest "),b.Mb(),b.Mb())},directives:[c.s,c.t,c.n],styles:["img[_ngcontent-%COMP%]{height:15px;width:15px;margin-right:.5rem}"]}),o})();var g=i("mra/"),f=i("ZETX");function p(o,e){if(1&o){const o=b.Ob();b.Nb(0,"ion-button",15),b.Vb("click",(function(){return b.dc(o),b.Xb().logout()})),b.ic(1,"Logout"),b.Mb()}}function h(o,e){if(1&o){const o=b.Ob();b.Nb(0,"ion-button",16),b.Vb("click",(function(e){return b.dc(o),b.Xb().authService.presentPopoverLogin(e)})),b.ic(1,"Login "),b.Mb()}}function m(o,e){if(1&o){const o=b.Ob();b.Nb(0,"ion-icon",17),b.Vb("click",(function(){return b.dc(o),b.Xb().clear()})),b.Mb()}}function v(o,e){if(1&o&&(b.Nb(0,"ion-select-option",8),b.ic(1),b.Mb()),2&o){const o=e.$implicit;b.ac("value",o.name),b.yb(1),b.jc(o.name)}}function y(o,e){1&o&&(b.Nb(0,"ion-list-header"),b.ic(1," ToDos "),b.Mb())}function M(o,e){if(1&o&&(b.Nb(0,"ion-list-header"),b.ic(1),b.Mb()),2&o){const o=b.Xb();b.yb(1),b.kc(" ToDos von ",o.authService.user.nutzername," ")}}function k(o,e){if(1&o){const o=b.Ob();b.Nb(0,"ion-badge",31),b.Vb("click",(function(e){b.dc(o);const i=b.Xb().$implicit;return b.Xb(2).presentPopoverCategory(e,i)})),b.ic(1),b.Mb()}if(2&o){const o=b.Xb().$implicit;b.yb(1),b.jc(o.kategorie.name)}}function N(o,e){if(1&o){const o=b.Ob();b.Nb(0,"ion-item-option",32),b.Vb("click",(function(){b.dc(o);const e=b.Xb().$implicit;return b.Xb(2).todoService.done(e)})),b.Jb(1,"ion-icon",33),b.Mb()}}function S(o,e){if(1&o){const o=b.Ob();b.Nb(0,"ion-item-option",12),b.Vb("click",(function(){b.dc(o);const e=b.Xb().$implicit;return b.Xb(2).todoService.notDone(e)})),b.Jb(1,"ion-icon",34),b.Mb()}}function w(o,e){if(1&o){const o=b.Ob();b.Nb(0,"ion-item-sliding"),b.Nb(1,"ion-item",19),b.Nb(2,"ion-label"),b.Nb(3,"h2"),b.ic(4),b.Mb(),b.Nb(5,"p"),b.ic(6),b.Mb(),b.Mb(),b.gc(7,k,2,1,"ion-badge",20),b.Nb(8,"ion-note",21),b.ic(9),b.Mb(),b.Nb(10,"ion-badge",22),b.Vb("click",(function(i){b.dc(o);const t=e.$implicit;return b.Xb(2).presentPopoverPriority(i,t)})),b.Jb(11,"img",23),b.Mb(),b.Mb(),b.Nb(12,"ion-item-options",24),b.gc(13,N,2,0,"ion-item-option",25),b.gc(14,S,2,0,"ion-item-option",26),b.Mb(),b.Nb(15,"ion-item-options",27),b.Nb(16,"ion-item-option",12),b.Vb("click",(function(){b.dc(o);const i=e.$implicit;return b.Xb(2).editModal(i)})),b.Jb(17,"ion-icon",28),b.Mb(),b.Nb(18,"ion-item-option",29),b.Vb("click",(function(){b.dc(o);const i=e.$implicit;return b.Xb(2).todoService.delete(i)})),b.Jb(19,"ion-icon",30),b.Mb(),b.Mb(),b.Mb()}if(2&o){const o=e.$implicit,i=b.Xb(2);b.yb(1),b.ac("disabled",o.erledigt),b.yb(2),b.Ab("done",o.erledigt),b.yb(1),b.jc(o.titel),b.yb(2),b.jc(o.beschreibung),b.yb(1),b.ac("ngIf",""!=o.kategorie.name),b.yb(2),b.kc(" ",o.zeit," Uhr "),b.yb(2),b.ac("src",i.priority[o.prioritaet],b.ec),b.yb(2),b.ac("ngIf",!o.erledigt),b.yb(1),b.ac("ngIf",o.erledigt)}}function C(o,e){if(1&o&&(b.Nb(0,"div"),b.gc(1,w,20,10,"ion-item-sliding",18),b.Mb()),2&o){const o=b.Xb();b.yb(1),b.ac("ngForOf",o.todoService.filteredAufgabenArray)}}function I(o,e){if(1&o){const o=b.Ob();b.Nb(0,"ion-item-sliding"),b.Nb(1,"ion-item"),b.Nb(2,"p"),b.ic(3,"Hier klicken, um ToDo hinzuzuf\xfcgen."),b.Mb(),b.Nb(4,"ion-button",16),b.Vb("click",(function(){return b.dc(o),b.Xb().addModal()})),b.Jb(5,"ion-icon",13),b.Mb(),b.Mb(),b.Mb()}}const O=[{path:"",component:(()=>{class o{constructor(o,e,i,t,n){this.modalCtrl=o,this.loadingController=e,this.popoverController=i,this.todoService=t,this.authService=n,this.loading=this.loadingController.create({message:"Bitte warten...",duration:1500}),this.priority=["../../../assets/prio/highest-prio.svg","../../../assets/prio/high-prio.svg","../../../assets/prio/medium.svg","../../../assets/prio/low-prio.svg","../../../assets/prio/lowest-prio.svg"],localStorage.getItem("userID")?n.findById(localStorage.getItem("userID")).subscribe(o=>{n.user=o,this.authService.isLoggedIn=!0,this.todoService.refreshTodos(),this.todoService.refreshCategories()}):(this.authService.isLoggedIn=!1,this.todoService.refreshCategories())}addModal(){return Object(s.a)(this,void 0,void 0,(function*(){const o=yield this.modalCtrl.create({component:l.a,cssClass:"modal",swipeToClose:!0,componentProps:{todo:new a.a,autor:this.authService.user}});return yield o.present()}))}editModal(o){return Object(s.a)(this,void 0,void 0,(function*(){const e=yield this.modalCtrl.create({component:l.a,cssClass:"modal",swipeToClose:!0,componentProps:{edit:!0,todo:o}});return yield e.present()}))}logout(){return Object(s.a)(this,void 0,void 0,(function*(){yield(yield this.loading).present(),yield this.authService.logOut(),setTimeout(()=>{this.todoService.refreshTodos()},1e3),yield(yield this.loading).onDidDismiss()}))}doSearch(){return Object(s.a)(this,void 0,void 0,(function*(){const o=(yield this.search.getInputElement()).value;this.todoService.filteredAufgabenArray=this.todoService.todos.filter(e=>e.titel.toLowerCase().includes(o.toLowerCase())||e.beschreibung.toLowerCase().includes(o.toLowerCase())||e.kategorie.name.toLowerCase().includes(o.toLowerCase()))}))}filterByCat(o){return Object(s.a)(this,void 0,void 0,(function*(){this.todoService.filteredAufgabenArray="no filter"===o?this.todoService.todos:this.todoService.todos.filter(e=>e.kategorie.name===o)}))}presentPopoverPriority(o,e){return Object(s.a)(this,void 0,void 0,(function*(){const i=yield this.popoverController.create({component:u,event:o,translucent:!0,componentProps:{toto:e}});return yield i.present()}))}presentPopoverCategory(o,e){return Object(s.a)(this,void 0,void 0,(function*(){const i=yield this.popoverController.create({component:g.a,event:o,translucent:!0,componentProps:{task:e}});return yield i.present()}))}clear(){this.search.value="",this.todoService.filteredAufgabenArray=this.todoService.todos}ionViewDidEnter(){this.search.value=""}}return o.\u0275fac=function(e){return new(e||o)(b.Ib(c.H),b.Ib(c.G),b.Ib(c.J),b.Ib(d.a),b.Ib(f.a))},o.\u0275cmp=b.Cb({type:o,selectors:[["app-home"]],viewQuery:function(o,e){var i;1&o&&b.lc(c.m,!0),2&o&&b.bc(i=b.Wb())&&(e.search=i.first)},decls:29,vars:9,consts:[["slot","start"],["slot","end","color","warning",3,"click",4,"ngIf"],["slot","end",3,"click",4,"ngIf"],["clearOnEdit","false","color","warning","inputmode","text","placeholder","ToDo suchen...","required","true",3,"ionInput"],["name","close-outline","color","warning","slot","end",3,"click",4,"ngIf"],["name","search-outline","color","warning","slot","end"],["interface","popover","cancelText","Dismiss","placeholder","Filter w\xe4hlen...",3,"ngModel","ngModelChange","ionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["vertical","bottom","horizontal","end","slot","fixed"],["color","warning",3,"click"],["name","add-outline"],["empty",""],["slot","end","color","warning",3,"click"],["slot","end",3,"click"],["name","close-outline","color","warning","slot","end",3,"click"],[4,"ngFor","ngForOf"],[3,"disabled"],[3,"click",4,"ngIf"],["slot","end"],["slot","start","color","none",3,"click"],["alt","prio icon",3,"src"],["side","start"],["color","success",3,"click",4,"ngIf"],["color","warning",3,"click",4,"ngIf"],["side","end"],["slot","icon-only","name","create-outline"],["color","danger",3,"click"],["slot","icon-only","name","trash"],[3,"click"],["color","success",3,"click"],["slot","icon-only","name","checkmark-circle-outline"],["slot","icon-only","name","close-circle-outline"]],template:function(o,e){if(1&o&&(b.Nb(0,"ion-header"),b.Nb(1,"ion-toolbar"),b.Nb(2,"ion-buttons",0),b.Jb(3,"ion-back-button"),b.Mb(),b.Nb(4,"ion-title"),b.ic(5,"Aufgaben Manager KMS"),b.Mb(),b.gc(6,p,2,0,"ion-button",1),b.gc(7,h,2,0,"ion-button",2),b.Mb(),b.Mb(),b.Nb(8,"ion-content"),b.Nb(9,"ion-item"),b.Nb(10,"ion-input",3),b.Vb("ionInput",(function(){return e.doSearch()})),b.Mb(),b.gc(11,m,1,0,"ion-icon",4),b.Jb(12,"ion-icon",5),b.Mb(),b.Nb(13,"ion-item"),b.Nb(14,"ion-label"),b.ic(15,"Liste nach Kategorie filtern"),b.Mb(),b.Nb(16,"ion-select",6),b.Vb("ngModelChange",(function(o){return e.todoService.filterCat=o}))("ionChange",(function(){return e.filterByCat(e.todoService.filterCat)})),b.gc(17,v,2,2,"ion-select-option",7),b.Nb(18,"ion-select-option",8),b.ic(19,"kein Filter"),b.Mb(),b.Mb(),b.Mb(),b.Nb(20,"ion-list"),b.gc(21,y,2,0,"ion-list-header",9),b.gc(22,M,2,1,"ion-list-header",9),b.gc(23,C,2,1,"div",10),b.Mb(),b.Nb(24,"ion-fab",11),b.Nb(25,"ion-fab-button",12),b.Vb("click",(function(){return e.addModal()})),b.Jb(26,"ion-icon",13),b.Mb(),b.Mb(),b.Mb(),b.gc(27,I,6,0,"ng-template",null,14,b.hc)),2&o){const o=b.cc(28);b.yb(6),b.ac("ngIf",e.authService.isLoggedIn),b.yb(1),b.ac("ngIf",!e.authService.isLoggedIn),b.yb(4),b.ac("ngIf",e.todoService.filteredAufgabenArray.length<e.todoService.todos.length),b.yb(5),b.ac("ngModel",e.todoService.filterCat),b.yb(1),b.ac("ngForOf",e.todoService.categories),b.yb(4),b.ac("ngIf",!e.authService.isLoggedIn),b.yb(1),b.ac("ngIf",e.authService.isLoggedIn),b.yb(1),b.ac("ngIf",e.todoService.filteredAufgabenArray.length>0)("ngIfElse",o)}},directives:[c.k,c.D,c.g,c.c,c.d,c.C,t.i,c.h,c.n,c.m,c.M,c.l,c.r,c.z,c.L,n.d,n.e,t.h,c.A,c.s,c.i,c.j,c.f,c.t,c.q,c.u,c.e,c.p,c.o],styles:[".modal[_ngcontent-%COMP%]   .modal-wrapper[_ngcontent-%COMP%]{background:#222}ion-list-header[_ngcontent-%COMP%]{background-color:#ff0;color:#000}.done[_ngcontent-%COMP%]{text-decoration:line-through}img[_ngcontent-%COMP%]{height:15px;width:15px}"]}),o})()}];let P=(()=>{class o{}return o.\u0275mod=b.Gb({type:o}),o.\u0275inj=b.Fb({factory:function(e){return new(e||o)},imports:[[r.i.forChild(O)],r.i]}),o})(),X=(()=>{class o{}return o.\u0275mod=b.Gb({type:o}),o.\u0275inj=b.Fb({factory:function(e){return new(e||o)},imports:[[t.b,n.a,c.E,P]]}),o})()}}]);